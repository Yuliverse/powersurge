<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The Gauntlet Power Surge Challenge - A 4-week fitness challenge tracker">
    <meta name="author" content="Gauntlet Power Surge">
    <title>Gauntlet Power Surge Challenge</title>
    
    <!-- External Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

    <script>
        // Tailwind Configuration
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'neon-green': '#39FF14',
                        'dark-bg': '#0a0a0a',
                        'card-bg': '#1a1a1a',
                        'accent-gray': '#2d2d2d'
                    },
                    fontFamily: {
                        'teko': ['Teko', 'sans-serif'],
                        'roboto': ['Roboto', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Base Styles */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #050505;
            color: white;
        }

        h1, h2, h3, .brand-font {
            font-family: 'Teko', sans-serif;
            text-transform: uppercase;
        }

        .neon-text {
            color: #39FF14;
            text-shadow: 0 0 10px rgba(57, 255, 20, 0.5);
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1a1a1a; 
        }

        ::-webkit-scrollbar-thumb {
            background: #333; 
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #39FF14; 
        }

        /* Loading Spinner */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #39FF14;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Video Container - Responsive 16:9 */
        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 0.5rem;
            background: black;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Certificate Styles */
        #certificateCanvas {
            max-width: 100%;
            height: auto;
            border: 5px solid #333;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* Hall of Fame Transitions */
        .hof-entry {
            transition: all 0.5s ease;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Navigation Bar -->
    <nav class="bg-card-bg border-b border-gray-800 p-4 sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3 cursor-pointer" onclick="showView('dashboard')">
                <img src="Gauntlet Power Surge Logo.jpeg" alt="Logo" class="h-12 w-12 object-contain rounded-full border border-gray-700" onerror="this.src='https://placehold.co/100x100/000000/39FF14?text=PS'">
                <div class="hidden md:block">
                    <h1 class="text-2xl font-bold leading-none tracking-wider text-white">THE GAUNTLET</h1>
                    <span class="text-neon-green text-sm tracking-widest font-bold">POWER SURGE</span>
                </div>
            </div>
            
            <div id="nav-actions" class="hidden flex items-center gap-4">
                <span id="nav-username" class="hidden md:inline text-neon-green font-teko text-xl tracking-wide mr-2"></span>
                <button onclick="showView('dashboard')" class="text-gray-300 hover:text-white transition" aria-label="Home">
                    <i class="fas fa-home mr-1"></i> Home
                </button>
                <button onclick="showView('profile')" class="text-gray-300 hover:text-white transition" aria-label="Profile">
                    <i class="fas fa-user mr-1"></i> Profile
                </button>
                <button onclick="handleLogout()" class="text-red-400 hover:text-red-300 transition" aria-label="Logout">
                    <i class="fas fa-sign-out-alt mr-1"></i> Logout
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main id="app-container" class="flex-grow container mx-auto p-4 md:p-6 relative">
        
        <!-- Loading Overlay -->
        <div id="loading-overlay" class="fixed inset-0 bg-black bg-opacity-90 z-[60] flex items-center justify-center hidden">
            <div class="loader"></div>
        </div>

        <!-- AUTH VIEW (Landing Page) -->
        <div id="auth-view" class="max-w-4xl mx-auto mt-6 grid md:grid-cols-2 gap-8">
            
            <!-- Login Column -->
            <div class="bg-card-bg p-8 rounded-2xl border border-gray-800 shadow-2xl h-fit">
                <div class="text-center mb-8">
                    <img src="Gauntlet Power Surge Logo.jpeg" alt="Logo" class="h-24 mx-auto mb-4 rounded-full border-2 border-neon-green shadow-[0_0_15px_rgba(57,255,20,0.3)] animate-pulse-slow" onerror="this.src='https://placehold.co/150x150/000000/39FF14?text=PS'">
                    <h2 class="text-4xl text-white mb-1">ENTER THE GAUNTLET</h2>
                    <p class="text-gray-400 text-sm">Join the surge.</p>
                </div>

                <form id="auth-form" onsubmit="handleLogin(event)" class="space-y-6">
                    <div>
                        <label for="login-username" class="block text-xs font-bold text-gray-500 mb-1 uppercase">Username (Visible on Certificate)</label>
                        <input type="text" id="login-username" required placeholder="e.g. IronWarrior" class="w-full bg-dark-bg border border-gray-700 text-white p-3 rounded focus:outline-none focus:border-neon-green focus:ring-1 focus:ring-neon-green transition">
                    </div>
                    <div>
                        <label for="login-email" class="block text-xs font-bold text-gray-500 mb-1 uppercase">Email Address (Unique ID)</label>
                        <input type="email" id="login-email" required placeholder="e.g. warrior@example.com" class="w-full bg-dark-bg border border-gray-700 text-white p-3 rounded focus:outline-none focus:border-neon-green focus:ring-1 focus:ring-neon-green transition">
                        <p class="text-[10px] text-gray-600 mt-1">We use your email to save your progress on this device.</p>
                    </div>
                    
                    <button type="submit" class="w-full bg-neon-green hover:bg-green-400 text-black font-teko text-xl font-bold py-3 rounded transition transform active:scale-95 shadow-[0_0_10px_rgba(57,255,20,0.4)]">
                        START CHALLENGE
                    </button>
                </form>

                <!-- Mission Briefing -->
                <div class="mt-8 pt-6 border-t border-gray-800">
                    <h3 class="text-xl text-white font-teko mb-2">
                        <i class="fas fa-clipboard-list text-neon-green mr-2"></i> MISSION BRIEFING
                    </h3>
                    <ul class="text-sm text-gray-400 space-y-2">
                        <li><i class="fas fa-dumbbell text-gray-600 w-5"></i> <strong>Gear:</strong> Dumbbells & a Gym Mat recommended.</li>
                        <li><i class="fas fa-body text-gray-600 w-5"></i> <strong>No Gear?</strong> Stick to bodyweight variations!</li>
                        <li><i class="fas fa-play-circle text-gray-600 w-5"></i> <strong>Format:</strong> 1-3 curated videos per day.</li>
                    </ul>
                </div>
            </div>

            <!-- Hall of Fame Column -->
            <div class="flex flex-col gap-6">
                <!-- Hall of Fame Card -->
                <div class="bg-card-bg p-6 rounded-2xl border border-gray-800 shadow-xl relative overflow-hidden flex-1">
                    <div class="absolute top-0 right-0 p-4 opacity-10">
                        <i class="fas fa-trophy text-6xl text-yellow-500"></i>
                    </div>
                    <h3 class="text-3xl text-yellow-500 font-teko mb-1 border-b border-gray-800 pb-2">HALL OF THE CHARGED</h3>
                    <p class="text-xs text-gray-500 mb-4 uppercase font-bold">Warriors who conquered the surge</p>
                    
                    <div id="hall-of-fame-list" class="space-y-3 min-h-[250px]">
                        <!-- Populated by JavaScript -->
                        <div class="animate-pulse flex space-x-4">
                            <div class="h-10 w-10 bg-gray-700 rounded-full"></div>
                            <div class="flex-1 space-y-2 py-1">
                              <div class="h-2 bg-gray-700 rounded"></div>
                              <div class="h-2 bg-gray-700 rounded w-5/6"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Motivation Card -->
                <div class="bg-gradient-to-br from-gray-900 to-black p-6 rounded-2xl border border-gray-800 flex items-center justify-center text-center">
                    <div>
                        <p class="text-neon-green font-teko text-2xl">"IT DOES NOT GET EASIER.</p>
                        <p class="text-white font-teko text-3xl">YOU GET STRONGER."</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- DASHBOARD VIEW -->
        <div id="dashboard-view" class="hidden animate-fade-in pb-20">
            <!-- Header Stats -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                <div class="bg-card-bg p-4 rounded-xl border-l-4 border-neon-green">
                    <p class="text-gray-400 text-xs uppercase font-bold">Total Progress</p>
                    <p class="text-3xl font-teko" id="total-progress">0%</p>
                </div>
                <div class="bg-card-bg p-4 rounded-xl border-l-4 border-blue-500">
                    <p class="text-gray-400 text-xs uppercase font-bold">Workouts Done</p>
                    <p class="text-3xl font-teko" id="workouts-done">0</p>
                </div>
                 <div class="bg-card-bg p-4 rounded-xl border-l-4 border-purple-500">
                    <p class="text-gray-400 text-xs uppercase font-bold">Streak</p>
                    <p class="text-3xl font-teko" id="streak-count">Active</p>
                </div>
                <div class="bg-card-bg p-4 rounded-xl border-l-4 border-yellow-500 flex flex-col justify-center items-start">
                    <p class="text-gray-400 text-xs uppercase font-bold">Certificate</p>
                    <button id="cert-btn-locked" class="text-gray-600 text-sm cursor-not-allowed font-bold">
                        <i class="fas fa-lock"></i> LOCKED
                    </button>
                    <button id="cert-btn-unlocked" onclick="showCertificate()" class="text-yellow-400 text-lg font-bold hidden animate-pulse hover:text-yellow-300">
                        <i class="fas fa-trophy"></i> CLAIM NOW
                    </button>
                </div>
            </div>

            <!-- Weeks Grid -->
            <div class="space-y-8" id="weeks-container">
                <!-- Content injected by JavaScript -->
            </div>
        </div>

        <!-- WORKOUT DETAIL MODAL -->
        <div id="workout-modal" class="fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center hidden p-4 overflow-y-auto">
            <div class="bg-card-bg w-full max-w-4xl rounded-xl border border-gray-800 shadow-2xl relative flex flex-col max-h-full">
                <!-- Header -->
                <div class="p-4 border-b border-gray-800 flex justify-between items-center bg-dark-bg rounded-t-xl">
                    <div>
                        <h3 id="modal-title" class="text-2xl md:text-3xl text-white font-teko">WORKOUT TITLE</h3>
                        <p id="modal-subtitle" class="text-neon-green text-sm font-bold">WEEK 1 â€¢ DAY 1</p>
                    </div>
                    <button onclick="closeWorkoutModal()" class="text-gray-400 hover:text-white text-2xl px-2" aria-label="Close">&times;</button>
                </div>

                <!-- Scrollable Content -->
                <div class="p-4 overflow-y-auto" id="modal-content">
                    <!-- Video players injected here -->
                </div>

                <!-- Footer -->
                <div class="p-4 border-t border-gray-800 bg-dark-bg rounded-b-xl flex justify-between items-center">
                    <div class="text-xs text-gray-500">
                        <i class="fas fa-dumbbell mr-1"></i> Ensure you warm up before starting.
                    </div>
                    <button id="mark-complete-btn" onclick="toggleCurrentWorkoutComplete()" class="bg-gray-700 text-white px-6 py-2 rounded font-teko text-xl hover:bg-neon-green hover:text-black transition">
                        MARK COMPLETE
                    </button>
                </div>
            </div>
        </div>

        <!-- PROFILE VIEW -->
        <div id="profile-view" class="hidden max-w-2xl mx-auto mt-6">
            <h2 class="text-4xl mb-6 border-b border-gray-800 pb-2">MY PROFILE</h2>
            
            <div class="bg-card-bg p-6 rounded-xl border border-gray-800 mb-6">
                <h3 class="text-xl font-bold mb-4 text-neon-green">Warrior Details</h3>
                <div class="mb-4">
                    <label class="block text-gray-500 text-xs uppercase font-bold mb-1">Username</label>
                    <div id="profile-username" class="text-white text-2xl font-teko tracking-wide">...</div>
                </div>
                <div class="mb-4">
                     <label class="block text-gray-500 text-xs uppercase font-bold mb-1">Email ID</label>
                     <div id="profile-email" class="text-gray-400 text-sm font-mono">...</div>
                </div>
            </div>

            <div class="bg-card-bg p-6 rounded-xl border border-red-900/30">
                <h3 class="text-xl font-bold mb-4 text-red-500">Danger Zone</h3>
                <p class="text-gray-400 text-sm mb-4">Resetting progress will clear all your completed workouts for this account on this device. This cannot be undone.</p>
                <button onclick="resetUserProgress()" class="bg-red-900/50 border border-red-800 text-red-200 font-bold py-2 px-6 rounded hover:bg-red-800 transition">
                    Reset All Progress
                </button>
            </div>
        </div>

        <!-- CERTIFICATE MODAL -->
        <div id="certificate-modal" class="fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center hidden p-4">
            <div class="bg-white p-2 rounded-lg max-w-4xl w-full relative">
                <button onclick="document.getElementById('certificate-modal').classList.add('hidden')" class="absolute -top-10 right-0 text-white text-3xl hover:text-neon-green" aria-label="Close">&times;</button>
                <div class="overflow-auto max-h-[90vh] flex flex-col items-center gap-4">
                    <canvas id="certificateCanvas" width="800" height="600"></canvas>
                    <a id="download-link" class="bg-black text-white px-8 py-3 font-teko text-2xl rounded hover:bg-neon-green hover:text-black transition cursor-pointer shadow-xl">
                        DOWNLOAD CERTIFICATE
                    </a>
                </div>
            </div>
        </div>

    </main>

    <!-- DISCLAIMER FOOTER -->
    <footer class="bg-black py-6 border-t border-gray-900 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-600 text-xs leading-relaxed max-w-3xl mx-auto">
                <strong class="text-gray-500">DISCLAIMER:</strong> The Gauntlet Power Surge Challenge acts as a curator of public content. All workout videos, routines, and associated intellectual property belong to their respective content creators on YouTube. We do not claim ownership of any footage. This platform is a community tool for tracking personal progress through a shared playlist of workouts. Please consult a physician before beginning any exercise program.
            </p>
        </div>
    </footer>

    <!-- JavaScript Application Logic -->
    <script src="app.js"></script>
</body>
</html>
